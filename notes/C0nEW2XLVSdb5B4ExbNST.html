<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  
  <title>Build Automation - Dendron</title>
  

  <link
    rel="shortcut icon"
    href="https://wiki.dendron.so/favicon.ico"
    type="image/x-icon"
  />
  <link
    rel="stylesheet"
    href="https://wiki.dendron.so/assets/css/just-the-docs-default.css"
  />
  <script
    type="text/javascript"
    src="https://wiki.dendron.so/assets/js/just-the-docs.js"
  ></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/themes/prism.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
    integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
    crossorigin="anonymous"
  />
  <script
    type="text/javascript"
    src="https://wiki.dendron.so/assets/js/vendor/lunr.min.js"
  ></script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   
   
  
<meta name="description" content="Dendron is a local-first, markdown based, hierarchical note taking tool. It is meant to help you create, organize, and collaborate on knowledge bases of any size.">
<meta name="author" content="dendronhq">

<link rel="canonical" href="https://wiki.dendron.so/notes/C0nEW2XLVSdb5B4ExbNST.html">

<meta property="og:type" content="article">
<meta property="og:url" content="https://wiki.dendron.so/notes/C0nEW2XLVSdb5B4ExbNST.html">
<meta property="og:description" content="Dendron is a local-first, markdown based, hierarchical note taking tool. It is meant to help you create, organize, and collaborate on knowledge bases of any size.">
<meta property="og:image" content="https://wiki.dendron.so/logo.png">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@dendronhq">
<meta name="twitter:url" content="https://wiki.dendron.so/notes/C0nEW2XLVSdb5B4ExbNST.html">
<meta name="twitter:description" content="Dendron is a local-first, markdown based, hierarchical note taking tool. It is meant to help you create, organize, and collaborate on knowledge bases of any size.">
<meta name="twitter:image" content="https://wiki.dendron.so/logo.png">


  <meta property="og:title" content="Build Automation - Dendron" />
  <meta name="twitter:title" content="Build Automation - Dendron" />
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-B0JN2HHCNY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-B0JN2HHCNY');
  </script>
  
</head>



<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="svg-link" viewBox="0 0 24 24">
        <title>Link</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
          <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </svg>
      </symbol>
      <symbol id="svg-search" viewBox="0 0 24 24">
        <title>Search</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
          <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </symbol>
      <symbol id="svg-menu" viewBox="0 0 24 24">
        <title>Menu</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
          <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </symbol>
      <symbol id="svg-arrow-right" viewBox="0 0 24 24">
        <title>Expand</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </symbol>
      <symbol id="svg-doc" viewBox="0 0 24 24">
        <title>Document</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
          <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
        </svg>
      </symbol>
    </svg>

    <div class="side-bar">
      <div class="site-header">
        <a href="https://wiki.dendron.so" class="site-title lh-tight">
  <div class="site-logo"></div>

 </a>
        <a href="#" id="menu-button" class="site-button">
          <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
        </a>
      </div>

      <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      </nav>
      <footer class="site-footer">
        ðŸŒ± with ðŸ’• using <a href="https://www.dendron.so/"> Dendron ðŸŒ² </a>
      </footer>
    </div>
    <div class="main" id="top">
        <div id="main-header" class="main-header">
          
            <div class="search">
              <div class="search-input-wrap">
                <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Dendron" aria-label="Search Dendron" autocomplete="off">
                <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
              </div>
              <div id="search-results" class="search-results"></div>
            </div>
          
          
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
          <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://wiki.dendron.so">Dendron</a></li><li class="breadcrumb-nav-list-item"><a href="https://wiki.dendron.so/notes/3489b652-cd0e-4ac8-a734-08094dc043eb.html">Development</a></li><li class="breadcrumb-nav-list-item"><a href="https://wiki.dendron.so/notes/12Fdg5uE6nZdukrdLNRdm.html">Build</a></li><li class="breadcrumb-nav-list-item">Build Automation</li></ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">

        
        
        <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
        
        

        

        

        

        <script>
          $(function () {
            $('[data-toggle="popover"]').popover({html: true})
          })
        </script>

        

<div id="main" role="main">

  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Build Automation">
    
    <meta itemprop="datePublished" content="2021-09-27T07:10:37+00:00">
    <meta itemprop="dateModified" content="2021-09-27T08:31:32+00:00">

    <div class="page__inner-wrap">

      

      <section class="page__content" itemprop="text">

        

        <h1 id="build-automation"><a aria-hidden="true" class="anchor-heading" href="#build-automation"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Build Automation</h1>
<h2 id="summary"><a aria-hidden="true" class="anchor-heading" href="#summary"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Summary</h2>
<p>The weekly build processes are partially automated through Github Actions.</p>
<h2 id="releases"><a aria-hidden="true" class="anchor-heading" href="#releases"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Releases</h2>
<ol>
<li>Early Seed Release - internal preview build available for Environmentalists. Not published to any marketplaces.</li>
<li>General Release - general availability of Dendron to all users in the VS Code and Open VSX Marketplaces as <a href="https://marketplace.visualstudio.com/items?itemName=dendron.dendron">dendron</a>.</li>
<li>Nightly Development Release - builds nightly for development purposes. Available in the marketplaces as <a href="https://marketplace.visualstudio.com/items?itemName=dendron.nightly">nightly</a>.</li>
</ol>
<h3 id="release-calendar"><a aria-hidden="true" class="anchor-heading" href="#release-calendar"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Release Calendar</h3>
<p><em>Times are in PST.</em></p>

































<table><thead><tr><th>Date Time</th><th>Event</th></tr></thead><tbody><tr><td>Monday 12:00</td><td><strong>Release Branch snaps off master. Release Candidate image is generated.</strong></td></tr><tr><td>Monday 19:00</td><td>Target time for release image completion - all testing and fixes complete</td></tr><tr><td>Tuesday 21:00</td><td>Target time for publishing general release + Discord Announcement.</td></tr><tr><td>Thursday 12:00</td><td><strong>Prerelease Branch snaps off master. Prerelease Candidate image is generated.</strong></td></tr><tr><td>Thursday 19:00</td><td>Target time for prerelease image completion - all testing and fixes complete</td></tr><tr><td>Thursday 21:00</td><td>Target time for early-seed build announcement to Environmentalist Discord channel.</td></tr></tbody></table>
<ul>
<li><strong>Bolded Events are Automated</strong></li>
<li>Non-Bold Events are done manually</li>
</ul>
<p>Furthermore, an automated nightly build is kicked off every night at 00:00 (midnight) Tuesday-Saturday.</p>
<h2 id="procedures-for-each-release-type"><a aria-hidden="true" class="anchor-heading" href="#procedures-for-each-release-type"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Procedures for Each Release Type</h2>
<h3 id="general-release"><a aria-hidden="true" class="anchor-heading" href="#general-release"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>General Release</h3>
<p>General Release is performed as follows:</p>
<ol>
<li><code>release/*</code> branch is snapped off of master at 12:00 PST Monday (for example, <code>release/0.60.0</code>). This is performed by the <a href="https://github.com/dendronhq/dendron/actions/workflows/create-release-branch.yml">Create Release Branch</a> pipeline.</li>
<li>The <a href="https://github.com/dendronhq/dendron/actions/workflows/create-release-image.yml">Create Release Image</a> pipeline will trigger off of every push to the <code>release/*</code> branch. This will create a .vsix and put the image on AWS S3 as well as create a downloadable artifact in Github Actions. </li>
<li>After smoke testing that image, any fixes should be checked into the <code>release/*</code> branch from the previous step.</li>
<li>After testing is complete, an admin manually triggers the <a href="https://github.com/dendronhq/dendron/actions/workflows/publish-extension-dendron.yml">Publish Extension Dendron</a> workflow on the <code>release/*</code> branch. This will cause packages to be published to NPM and the extension to be published to the VS Code and Open VSX marketplaces.</li>
<li>The pipeline automatically creates a request to pull the changes from <code>release/*</code> -> <code>master</code>. An admin approves the request and performs the pull.</li>
</ol>
<h3 id="early-seed-prerelease"><a aria-hidden="true" class="anchor-heading" href="#early-seed-prerelease"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Early Seed (Prerelease)</h3>
<p>Early Seed is performed similarly to the General Release, but without any external publishing.</p>
<ol>
<li>A <code>prerelease/*</code> branch is snapped off of master at 12:00 PST Thursday.</li>
<li>After smoke testing that image (or the nightly build from the night before), any fixes should be checked into the <code>prerelease/*</code> branch from the previous step.</li>
<li>The <a href="https://github.com/dendronhq/dendron/actions/workflows/create-prerelease-image.yml">Create Prerelease Image</a> pipeline will trigger off of every push to the <code>prerelease/*</code> branch. This will create a .vsix and put the image on AWS S3 as well as create a downloadable artifact in Github Actions. </li>
<li>After smoke testing that image, any fixes should be checked into the <code>prerelease/*</code> branch from the previous step.</li>
<li>Manually raise a pull request to move the changes from <code>prerelease/*</code> -> <code>master</code>. An admin approves the request and performs the pull.</li>
</ol>
<h3 id="nightly-development-release"><a aria-hidden="true" class="anchor-heading" href="#nightly-development-release"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Nightly Development Release</h3>
<p>This procedure will create a .vsix off of the code in master branch at 00:00 PST (midnight) Tuesday - Saturday. This .vsix will automatically get published to the VS Code and Open VSX Marketplaces under the <a href="https://marketplace.visualstudio.com/items?itemName=dendron.nightly">nightly</a> version of the extension.</p>
<p>This build is intended for development purposes - you can easily setup this image on your secondary development environment (for example, you can set up VS Codium to use the nightly build of Dendron) so that you can test the current build of master without having to generate a .vsix yourself.</p>
<p>The pipeline that performs this action is called <a href="https://github.com/dendronhq/dendron/actions/workflows/publish-extension-nightly.yml">Publish Extension - Nightly</a></p>
<h2 id="github-actions-environments-and-permissions"><a aria-hidden="true" class="anchor-heading" href="#github-actions-environments-and-permissions"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Github Actions Environments and Permissions</h2>
<p>Certain actions within the pipelines requires permissions and logins - for example: publishing the extension to a marketplace, publishing packages to NPM, and accessing certain service secrets such as oauth and Sentry uploads.  There are two <a href="https://docs.github.com/en/actions/deployment/environments">environments</a> that our Github Actions are deployed to:</p>
<h3 id="plugin-production"><a aria-hidden="true" class="anchor-heading" href="#plugin-production"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>plugin-production</h3>
<p>This environment has access to all secrets as well as publishing tokens for NPM, VS Code Marketplace, and Open VSX Marketplace. This environment is for <strong>production</strong> only and can possibly create production issues if used incorrectly. This environment is restricted to the <code>master</code> and <code>release/*</code> branches only.</p>
<h3 id="plugin-development"><a aria-hidden="true" class="anchor-heading" href="#plugin-development"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>plugin-development</h3>
<p>This environment has access to service secrets, such as Google OAuth and Sentry. This environment <strong>cannot</strong> deploy to NPM or a marketplace. This environment is generally safe for development purposes.</p>
<h3 id="development-notes"><a aria-hidden="true" class="anchor-heading" href="#development-notes"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Development Notes</h3>
<p>To specify an environment for a workflow, specify the environment in the YAML config as follows and refer to an existing pipeline as an example:</p>
<pre class="language-yml"><code class="language-yml"><span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span> plugin<span class="token punctuation">-</span>production
</code></pre>
<p><sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup></p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1"><a href="https://github.com/dendronhq/dendron/blob/a5078935085194ef70b45b08491e3a5dbcc7eb9a/.github/workflows/publish-extension-nightly.yml#L14">https://github.com/dendronhq/dendron/blob/a5078935085194ef70b45b08491e3a5dbcc7eb9a/.github/workflows/publish-extension-nightly.yml#L14</a><a href="#fnref-1" class="footnote-backref">â†©</a></li>
</ol>
</div><span id="navId" data="C0nEW2XLVSdb5B4ExbNST"></span>

                
      </section>

      
    </div>

    
  </article>

  
  
</div>

        <div class="thumbs feedback_trigger right-bottom"></div>

        
          <hr>
          <footer>
            
            

            
              <div class="d-flex mt-2">
              <p class="text-small text-grey-dk-000 mb-0 mr-2">
                Page last modified: <span class="d-inline-block">9/27/2021</span>.
              </p>
            
                
                  <p class="text-small text-grey-dk-000 mb-0">
                    <a href="https://github.com/dendronhq/dendron-site/edit/master/vault/dendron.dev.build.automation.md" id="edit-this-page">Edit this page on GitHub</a>
                  </p>
                
              </div>
          </footer>
        
    </div>
</div>


  

  <div class="search-overlay"></div>

</div>

</body>
</html>
